(function($){$.fn.slide=function(stop){$.each($(this),function(){if(!$(this).hasClass('m_jquery_slide')){return;};var time,type,auto,index,oldindex,_setTimeout;time=$(this).attr('data-time')||'3000';type=$(this).attr('data-type')||'left';auto=$(this).attr('data-auto')!='false';index=$(this).attr('data-index')||'0';if(!/^\d+$/.test(time))time='3000';if(!/^\d+$/.test(index))index='0';index=parseInt(index);time=parseInt(time);var $content=$(this).children('.content');var $items=$content.children();var $indexs=$(this).children('.index').children('a');var $next=$(this).children('.next');var $prev=$(this).children('.prev');var runing=false;if(index+1>$items.length)oldindex=index=0;function autorun(){if(runing)return;clearTimeout(_setTimeout);_setTimeout=setTimeout(function(){oldindex=index;if(++index>=$items.length)index=0;run();},time);};function loadimg(){var $item=$items.eq(index);$item.find('[data-src]').each(function(){$(this).attr('src',$(this).attr('data-src')).removeAttr('data-src');});if($item.attr('data-src')){$item.css('background-image','url('+$item.attr('data-src')+')').removeAttr('data-src');};$item.find('[data-bgsrc]').each(function(){$(this).css('background-image','url('+$(this).attr('data-bgsrc')+')').removeAttr('data-bgsrc');});if($item.attr('data-bgsrc')){$item.css('background-image','url('+$item.attr('data-bgsrc')+')').removeAttr('data-bgsrc');}};loadimg();if($items.length<=1)return;function run(){runing=true;$indexs.removeClass('selected').eq(index).addClass('selected');$items.addClass('hidden').eq(index).css('z-index',2).removeClass('hidden').end().eq(oldindex).removeClass('hidden').css('z-index',1);switch(type){case'top':if(index>oldindex){$items.eq(index).css({'top':'100%'}).animate({'top':0},{duration:400,queue:false});$items.eq(oldindex).css({'top':0}).animate({'top':'-100%'},{duration:400,queue:false,complete:function(){runing=false;$items.eq(oldindex).addClass('hidden');if(auto){autorun();}}});}else{$items.eq(index).css({'top':'-100%'}).animate({'top':0},{duration:400,queue:false});$items.eq(oldindex).css({'top':0}).animate({'top':'100%'},{duration:400,queue:false,complete:function(){runing=false;$items.eq(oldindex).addClass('hidden');if(auto){autorun();}}});};break;case'left':if(index>oldindex){$items.eq(index).css({'left':'100%'}).animate({'left':0},{duration:400,queue:false});$items.eq(oldindex).css({'left':0}).animate({'left':'-100%'},{duration:400,queue:false,complete:function(){runing=false;$items.eq(oldindex).addClass('hidden');if(auto){autorun();}}});}else{$items.eq(index).css({'left':'-100%'}).animate({'left':0},{duration:400,queue:false});$items.eq(oldindex).css({'left':0}).animate({'left':'100%'},{duration:400,queue:false,complete:function(){runing=false;$items.eq(oldindex).addClass('hidden');if(auto){autorun();}}});};break;default:$items.eq(index).css({'opacity':0}).animate({'opacity':1},{duration:400,queue:false});$items.eq(oldindex).css({'opacity':1}).animate({'opacity':0},{duration:400,queue:false,complete:function(){runing=false;$items.eq(oldindex).addClass('hidden');if(auto){autorun();}}});break;};loadimg();};$indexs.removeClass('selected').eq(index).addClass('selected');$items.addClass('hidden').eq(index).removeClass('hidden');$indexs.mouseenter(function(event){if(runing)return;var _index=$indexs.index(this);if(_index>=$items.length)return;oldindex=index;index=_index;if(oldindex==index)return;run();});$prev.click(function(){if(runing)return;oldindex=index;if(--index<0)index=$items.length-1;run();});$next.click(function(){if(runing)return;oldindex=index;if(++index>=$items.length)index=0;run();});if(auto){autorun();$(this).mousemove(function(event){clearTimeout(_setTimeout);}).mouseleave(function(event){autorun();});};});return this;};})(jQuery);;$(document).ready(function(){$('.m_jquery_slide').slide();var _ua=navigator.userAgent.toLowerCase();if(/msie ([\d.]+)/.test(_ua)){$('.other_type .item').children('a').hover(function(){$(this).children('.weixin').css({'filter':'alpha(opacity=80)'});},function(){$(this).children('.weixin').css({'filter':'alpha(opacity=0)'});});}else{$('.other_type .item').children('a').hover(function(){$(this).children('.weixin').stop(true,true).animate({'opacity':1,'-moz-opacity':1,'-khtml-opacity':1},400);},function(){$(this).children('.weixin').stop(true,true).animate({'opacity':0,'-moz-opacity':0,'-khtml-opacity':0},400);});}
$('.shop_manager').hover(function(){$(this).children('div').stop().slideDown(100);},function(){$(this).children('div').stop().slideUp(100);});$('.talk_con').on('mouseover','li',function(e){var e=e||window.event;e.target=e.target||event.srcElement;if(e.target==$(this).find('p')[0]){return;}
$(this).find('.code').stop().show(200);}).on('mouseleave','li',function(){$(this).find('.code').stop().hide(200);});$('.category li').hover(function(){$(this).addClass('select');},function(){$(this).removeClass('select');}).on('click',function(){window.location.href=$(this).attr('link');return false;});});$(window).on('load resize',function(){var $obj=$('.slider_area .item').children();var differ=$obj.find('img').width()-$(this).width();if(differ<=0){$obj.css('margin-left',0);return false;}
$obj.css('margin-left',differ/2*-1+'px');});